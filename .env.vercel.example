# Vercel Environment Variables Configuration
# This file documents all environment variables required for Vercel deployment
# Copy these to your Vercel project settings: https://vercel.com/[your-team]/[your-project]/settings/environment-variables

# =============================================================================
# DATABASE CONFIGURATION (Neon PostgreSQL)
# =============================================================================
# Get these from: https://console.neon.tech/app/projects/[your-project]/connection-details

# Pooled connection string - Use for Vercel Functions (serverless)
# This connection uses Neon's connection pooler for efficient serverless connections
DATABASE_URL=postgresql://[user]:[password]@[host]-pooler.neon.tech/[database]?sslmode=require

# Direct connection string - Use for migrations only
# This bypasses the pooler for operations that require direct database access
DATABASE_URL_UNPOOLED=postgresql://[user]:[password]@[host].neon.tech/[database]?sslmode=require

# =============================================================================
# REDIS CONFIGURATION (Upstash Redis)
# =============================================================================
# Get these from: https://console.upstash.com/redis/[your-database]

# Upstash Redis REST URL - Used for edge-compatible Redis operations
REDIS_URL=https://[your-endpoint].upstash.io

# Upstash Redis REST Token - Authentication token for REST API
REDIS_TOKEN=[your-redis-token]

# =============================================================================
# INNGEST CONFIGURATION
# =============================================================================
# Get these from: https://www.inngest.com/dashboard/[your-app]/manage/keys

# Event Key - Used to send events to Inngest from your API
INNGEST_EVENT_KEY=[your-event-key]

# Signing Key - Used to verify requests from Inngest to your API endpoint
INNGEST_SIGNING_KEY=signkey-prod-[your-signing-key]

# =============================================================================
# BLOCKCHAIN CONFIGURATION (Blockfrost + Cardano)
# =============================================================================
# Get Blockfrost API keys from: https://blockfrost.io/dashboard

# Blockfrost Project ID - For Cardano blockchain operations
# Use 'preprod' prefix for testnet, 'mainnet' prefix for production
BLOCKFROST_PROJECT_ID=preprod[your-project-id]  # or mainnet[your-project-id]

# Blockfrost IPFS Project ID - For uploading NFT images and metadata to IPFS
BLOCKFROST_IPFS_PROJECT_ID=ipfs[your-ipfs-project-id]

# Cardano Network - 'preprod' for testnet, 'mainnet' for production
CARDANO_NETWORK=preprod

# NFT Policy ID - The Cardano policy ID for your NFT collection
# This is generated when you create your NFT policy
NFT_POLICY_ID=[your-policy-id]

# Payment Address - Cardano address that pays for transaction fees
# Must have sufficient ADA to cover minting and forging transaction fees
PAYMENT_ADDRESS=addr_test1[your-payment-address]  # or addr1[...] for mainnet

# Wallet Seed Phrase - 24-word mnemonic for the payment wallet
# ⚠️ CRITICAL: Keep this secret! Never commit to Git!
# This wallet must be the same one that minted the original NFTs for forging to work
WALLET_SEED_PHRASE=[24 words separated by spaces]

# Royalty Address - Address to receive NFT royalties (CIP-27)
# Can be the same as payment address or a different address
ROYALTY_ADDRESS=addr_test1[your-royalty-address]

# Royalty Rate - Percentage as decimal (0.025 = 2.5%, 0.05 = 5%, 0.10 = 10%)
ROYALTY_RATE=0.025

# =============================================================================
# AUTHENTICATION CONFIGURATION (JWT)
# =============================================================================

# JWT Secret - Secret key for signing and verifying JWT tokens
# ⚠️ Generate a strong random string (at least 32 characters)
# Example: openssl rand -base64 32
JWT_SECRET=[your-jwt-secret-min-32-chars]

# JWT Issuer - Identifier for your application (used in JWT claims)
JWT_ISSUER=trivia-nft

# =============================================================================
# AWS S3 CONFIGURATION (Optional - if keeping S3 for asset storage)
# =============================================================================
# Get these from AWS IAM Console: https://console.aws.amazon.com/iam/

# S3 Bucket Name - Bucket where NFT assets are stored
S3_BUCKET=[your-bucket-name]

# S3 Region - AWS region where your bucket is located
S3_REGION=us-east-1

# AWS Access Key ID - IAM user credentials with S3 access
AWS_ACCESS_KEY_ID=[your-access-key-id]

# AWS Secret Access Key - IAM user secret
AWS_SECRET_ACCESS_KEY=[your-secret-access-key]

# =============================================================================
# TESTING AND DEVELOPMENT FLAGS
# =============================================================================

# Mint to Backend Wallet - For testing forging functionality
# Set to 'true' to mint NFTs to backend wallet (for testing)
# Set to 'false' for production (mints to user's wallet)
MINT_TO_BACKEND_WALLET=false

# Node Environment - Automatically set by Vercel
# NODE_ENV=production

# =============================================================================
# ENVIRONMENT-SPECIFIC NOTES
# =============================================================================
#
# DEVELOPMENT:
# - Use Inngest Dev Server (npx inngest-cli@latest dev) - no keys needed
# - Use Neon development database or local PostgreSQL
# - Use Blockfrost preprod network
# - Can use local Redis or Upstash
#
# PREVIEW (Vercel Preview Deployments):
# - Neon automatically creates database branches
# - Inngest automatically creates sandbox environments
# - Use Blockfrost preprod network
# - Use same Upstash Redis as development
#
# PRODUCTION:
# - Use production Neon database
# - Use production Inngest environment
# - Use Blockfrost mainnet
# - Use production Upstash Redis
# - Ensure all secrets are rotated from development values
#
# =============================================================================
# VERCEL CONFIGURATION INSTRUCTIONS
# =============================================================================
#
# 1. Go to your Vercel project settings:
#    https://vercel.com/[your-team]/[your-project]/settings/environment-variables
#
# 2. Add each variable above with appropriate values
#
# 3. Set environment scope for each variable:
#    - Production: Use for production deployments only
#    - Preview: Use for preview deployments (Git branches)
#    - Development: Use for local development with `vercel dev`
#
# 4. Sensitive variables (secrets):
#    - JWT_SECRET
#    - WALLET_SEED_PHRASE
#    - AWS_SECRET_ACCESS_KEY
#    - REDIS_TOKEN
#    - INNGEST_EVENT_KEY
#    - INNGEST_SIGNING_KEY
#    - BLOCKFROST_PROJECT_ID
#    - BLOCKFROST_IPFS_PROJECT_ID
#
# 5. After adding variables, redeploy your application
#
# =============================================================================
